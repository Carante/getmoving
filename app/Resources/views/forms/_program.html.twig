{{ form_start(form, {'attr':{'novalidate':''}}) }}
  {{ form_row(form.startDate) }}
  {{ form_widget(form.startDate) }}
<div class="form-group" id="program_startDateFlexible">
  {% if program.flexStart == true %}
    {{ form_widget(form.flexStart, { 'checked': 'checked' }) }}
  {% else %}
    {{ form_widget(form.flexStart) }}
  {% endif %}
</div>

<div class="form-group" id="program_isActive">
  {% if program.isActive == true %}
    {{ form_widget(form.isActive, { 'checked': 'checked' }) }}
  {% else %}
    {{ form_widget(form.isActive) }}
  {% endif %}
</div>
<!-- Button trigger modal -->
<div>
  <button type="button" class="btn btn-default btn-lg" id="mediaLibraryModalTrigger" data-toggle="modal" data-target="#mediaLibrary">
    <div class="file-preview-thumbnails">
      <div class="file-default-preview clickable" tabindex="-1">
        <img src="/{{ program.feature.path }}{{ program.feature.filename }}" alt="Preview" style="width:160px">
        <h6 class="text-muted">Click to select</h6>
      </div>
    </div>
  </button>
</div>

<div class="row">
  <div class="col-md-6">
    {{ form_row(form.title) }}
  </div>
  <div class="col-md-6">
    {{ form_row(form.role) }}
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    {{ form_row(form.teaser) }}
  </div>
  <div class="col-md-6">
    {{ form_row(form.location) }}
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    {{ form_row(form.stay) }}
  </div>
  <div class="col-md-6">
    {{ form_row(form.meals) }}
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    {{ form_row(form.price) }}
  </div>
  <div class="col-md-6">
    {{ form_row(form.minDuration) }}
  </div>
</div>

{{ form_row(form.description) }}
<label class="control-label" for="program_media">Gallery images</label><br>
{% for media in medias %}
<input id="program_media" name="program_media[]" type="checkbox" value="{{ media.id }}"/> {{ media.filename }}<br>
{% endfor %}

{# Render CSRF token etc .#}
<div style="display:none">
  {{ form_rest(form) }}
</div>

<button type="submit" class="btn btn-primary btn-sm">Save</button>

<!-- Modal -->
<div class="modal fade" id="mediaLibrary" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close mediaOneModal-close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">Media Library</h4>
      </div>
      <div class="modal-body">
        {% for media in medias %}
          <div class="media-library-select inline-block">
            <input id="mediaOne{{ media.id }}" type="radio" name="mediaOne-choosable" value="{{ media.id }}" {% if media.id == organisation.logo.id %}checked{% endif %} data-target="mediaOne{{ media.id }}">
            <label class="media-choosable" for="mediaOne{{ media.id }}" style="background-image:url('/{{ media.path }}{{ media.filename }}')" data-img="/{{ media.path }}{{ media.filename }}"></label>
          </div>
        {% endfor %}
        {{ form_end(form) }}
      </div>
      <div class="modal-footer">
        <div class="pull-left">
          {{ form_start(formUpload) }}
          {{ form_widget(formUpload.path) }}
          {{ form_end(formUpload) }}
        </div>
        <button type="button" class="btn btn-default mediaOneModal-close" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary mediaOneModal-save" data-dismiss="modal">Save changes</button>
      </div>
    </div>
  </div>
</div>
